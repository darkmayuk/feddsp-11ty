<section class="text-center {% if product.type == 'plugin' %}audio-experience-bg{% else %}audio-dark-filter{% endif %}">

  <div class="audio-bg-layer">
    <video autoplay muted loop playsinline 
           class="{% if product.type == 'plugin' %}audio-player-video-overlay{% else %}audio-bg-video-normal{% endif %}"
           poster="{{ product.assets.audioBgPoster }}">
      <source src="{{ product.assets.audioBg }}" type="video/mp4">
    </video>
  </div>

  <div class="audio-content-layer container">

    <h2 class="text-uppercase mb-2 font-header gradient-text-audio">
      {{ product.sections.audio.title }}
    </h2>

    <p class="mb-4 fst-italic">{{ product.sections.audio.subheader }}</p>

    <div class="player-card-v2 mx-auto">

      <div class="track-grid" id="audio-track-controls">
        {% for sample in product.sections.audio.samples %}
        <div class="track-item">
          <button class="track-btn-text {% if forloop.first %}active{% endif %}" 
                  data-dry="{{ sample.dry }}"
                  data-wet="{{ sample.wet }}">
            {{ sample.name }}
          </button>
        </div>
        {% endfor %}
      </div>

      <div class="player-controls-row">

        <button class="play-btn-large" id="audio-play-toggle">
          <i class="bi bi-play-fill"></i>
        </button>

        <div class="visualizer-container" id="visualizer-wrapper">
          {% for i in (1..64) %}
          <div class="visualizer-bar"></div>
          {% endfor %}
        </div>

      </div>

    </div>
  </div>

  <div class="mix-toggle-container">
    <div class="d-flex align-items-center text-white font-body fw-bold cursor-pointer" id="audio-mix-toggle">
      <span class="label-dry">DRY</span>
      
      <div class="toggle-ui-wrapper">
        <div class="toggle-knob"></div>
      </div>

      <span class="label-wet">WET</span>
    </div>
  </div>

</section>

<script src="/assets/js/audio-player.js"></script>