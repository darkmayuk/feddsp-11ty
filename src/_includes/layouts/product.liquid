---
layout: layouts/base.liquid
---

{%- comment -%}
Look up the product in products.json based on the page slug
(e.g. phaturator.md â†’ "phaturator"). Optionally override with
front matter key productId if needed.
{%- endcomment -%}

{% assign _id = page.fileSlug %}
{% assign product = null %}
{% for p in products %}
  {% if p.id == _id %}
    {% assign product = p %}
    {% break %}
  {% endif %}
{% endfor %}

{% if product == null %}
  <section class="container py-5 text-center">
    <h1>Product not found</h1>
    <p>No product with ID '{{ _id }}' found in products.json.</p>
  </section>
{% else %}

  <div
    class="product-page{% if product.comingSoon %} is-coming-soon{% endif %}"
    style="
      --hero-gradient-start: {{ product.gradientStart | default: '#fff' }};
      --hero-gradient-end:   {{ product.gradientEnd   | default: '#000' }};
    "
  >

    <div class="product-page-inner">
      {% include "components/product/product-hero.liquid" %}
      {% include "components/product/product-features.liquid" %}
      {% include "components/product/product-videos.liquid" %}
    </div>

    {% if product.comingSoon %}
      <div class="product-coming-soon-overlay">
        <div class="product-coming-soon-banner">
          <span class="badge">Coming soon</span>
          <p class="m-0">We're putting the final touches on {{ product.name }} ... </p>
        </div>
      </div>
    {% endif %}

  </div>

<script src="/assets/js/product-hero-parallax.js"></script>

{% endif %}
