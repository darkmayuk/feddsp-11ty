<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>fedDSP â€” join the waitlist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="/favicon-32.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Bootstrap + Fonts -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="preload" href="/FedDSPCustomFont.otf" as="font" type="font/otf" crossorigin>

  <!-- Plausible -->
  <script async src="https://plausible.io/js/pa-J3F9V_aWzkP06lWawfHxV.js"></script>
  <script>
    window.plausible = window.plausible || function(){(plausible.q=plausible.q||[]).push(arguments)};
    plausible.init = plausible.init || function(i){plausible.o=i||{}};
    plausible.init();
  </script>

  <style>
    :root{
      --brand-pink: #d466ad;      /* original */
      --accent-pink: #f24e93;     /* HIS active pink */
      --error-red:   #E53024;     /* HIS error red */

      --panel-radius: 28px;
      --glow-x: 50%;
      --glow-y: 50%;
    }

    @font-face{
      font-family:'FedDSPHeader';
      src:url('/FedDSPCustomFont.otf') format('opentype');
      font-display:swap;
    }

    html,body{height:100%}
    body{
      margin:0; background:#000; color:#fff;
      font-family:'Montserrat', Arial, sans-serif;
      overflow-x:hidden;
    }
    h1,h2{
      font-family:'FedDSPHeader',sans-serif;
      line-height:.9; letter-spacing:.04em; font-size:2.5rem;
    }

    /* Background speckle + vignette */
    .bg-layer::before,.bg-layer::after{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
    }
    .bg-layer::before{
      background:
        radial-gradient(#fff 1px,transparent 1px) 0 0/3px 3px,
        radial-gradient(#fff 1px,transparent 1px) 1.5px 1.5px/3px 3px;
      opacity:.05;
    }
    .bg-layer::after{
      background:
        radial-gradient(50vw 50vh at 50% 120%, rgba(0,0,0,.75), transparent 60%),
        radial-gradient(50vw 50vh at 50% -20%, rgba(255,255,255,.06), transparent 60%);
    }

    .wrap{
      min-height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:2rem; position:relative; z-index:2;
    }

    .card-hold{
      border-radius:var(--panel-radius);
      background:
        radial-gradient(600px 600px at var(--glow-x) var(--glow-y),
          color-mix(in oklab, #fff 12%, transparent) 0%,
          transparent 65%),
        rgba(20,20,20,.92);
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 0 40px rgba(255,255,255,.14), 0 30px 90px rgba(0,0,0,.6);
      transition:transform .2s ease, box-shadow .2s ease, background-position .1s;
      /* extra breathing room for inline errors near bottom */
      padding-bottom: calc(2rem + 12px) !important;
    }
    .card-hold:hover{
      transform:translateY(-2px);
      box-shadow:0 0 52px rgba(255,255,255,.16), 0 42px 120px rgba(0,0,0,.65);
    }

    .logo{max-height:72px;}
    .lead-muted{color:#bbb;}

    .form-row{
      max-width:980px; margin-inline:auto;
      --bs-gutter-x:.6rem; --bs-gutter-y:.6rem;
      /* small bottom gap so last error isn't flush with card edge */
      margin-bottom:.75rem;
    }

    /* Inputs */
    .waitlist-input{
      background:#000; color:#fff !important; border:1px solid transparent;
      padding:.9rem 1.1rem; border-radius:999px;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.12);
      transition:border-color .2s, box-shadow .2s, background .2s;
    }
    .waitlist-input::placeholder{color:#bdbdbd !important; opacity:1;}
    .waitlist-input:focus{
      outline:0; border-color:var(--accent-pink);
      box-shadow:0 0 0 .25rem color-mix(in oklab, var(--accent-pink) 35%, transparent),
                 inset 0 0 0 1px rgba(255,255,255,.12);
      background:#000;
    }

    /* Submit button + shine */
    .waitlist-btn{
      position:relative; overflow:hidden;
      display:inline-flex; align-items:center; justify-content:center; gap:.25rem;
      border:1px solid var(--accent-pink);
      background:var(--accent-pink); color:#000; font-weight:700;
      border-radius:24px; padding:.9rem 1.4rem; line-height:1; box-shadow:none;
      transition:background .2s, color .2s, filter .15s;
    }
    .waitlist-btn:hover,.waitlist-btn:focus{background:#fff; color:#000;}
    .waitlist-btn .shine{
      position:absolute; inset:-40% -10%;
      background:radial-gradient(120px 80px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.55), transparent 60%);
      mix-blend-mode:soft-light; pointer-events:none; opacity:.9; transition:opacity .2s;
    }

    /* Validation: only invalid (no green) */
    .waitlist-input.is-invalid{
      box-shadow:inset 0 0 0 1px color-mix(in oklab, var(--error-red) 65%, transparent);
      border-color:var(--error-red);
    }
    .waitlist-input.is-valid{ box-shadow:none; }

    /* ERROR MESSAGES: always inline red text (desktop+mobile) */
    .position-relative .invalid-tooltip{
      position:static; transform:none;
      display:none; /* toggled by .is-invalid sibling selector below */
      margin-top:.375rem; margin-bottom:.5rem;
      background:transparent; color:var(--error-red);
      box-shadow:none; padding:0;
      white-space:normal; text-align:center;
      font-size:.95rem;
    }
    .waitlist-input.is-invalid ~ .invalid-tooltip{ display:block; }

    /* Success/Error blocks */
    .success-msg{display:none;}
    .error-msg{display:none; color:#ff8080;}

    /* Cursor Bloom: tuned for dark background */
    .blob{
      position:fixed; inset:auto auto 0 0; translate:-50% -50%;
      width:42vmin; height:42vmin; border-radius:50%;
      /* use SCREEN so it shows on black; brighter, pinkish core */
      background:
        radial-gradient(closest-side, rgba(242,78,147,.22), transparent 70%),
        radial-gradient(closest-side, rgba(229,48,36,.14), transparent 75%);
      pointer-events:none; z-index:1; mix-blend-mode:screen; filter:blur(22px);
    }
  </style>
</head>

<body>
  <div class="bg-layer"></div>
  <div class="blob" aria-hidden="true"></div>

  <div class="wrap">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-md-12 col-lg-10 col-xl-9 col-xxl-8">
          <div class="card-hold p-4 p-md-5 text-center" id="hoverCard">
            <img class="logo mb-3" src="/fedDSP_logo_text_small_WonB.png" alt="fedDSP">
            <p class="lead-muted mb-4">join the waiting list:</p>

            <form id="waitlistForm" action="https://formspree.io/f/mpwyejge" method="POST" novalidate>
              <div class="row form-row gx-2 gy-2 justify-content-center align-items-center">
                <div class="col-12 col-md-6 position-relative">
                  <input type="email" name="email" class="form-control waitlist-input" placeholder="your@email.com"
                         required autocomplete="email" inputmode="email">
                  <div class="invalid-tooltip">Enter a valid email address.</div>
                </div>

                <div class="col-12 col-md-4 position-relative">
                  <input type="text" name="name" class="form-control waitlist-input" placeholder="your name" required>
                  <div class="invalid-tooltip">Please tell us your name.</div>
                </div>

                <div class="col-12 col-md-2">
                  <button type="submit" class="btn btn-lg waitlist-btn w-100">
                    JOIN
                    <span class="shine" aria-hidden="true"></span>
                  </button>
                </div>
              </div>

              <input type="text" name="_gotcha" style="display:none">
            </form>

            <div class="success-msg mt-4" id="successMsg">
              <h2 class="mb-2">Thanks - you're on the list.</h2>
              <p class="lead-muted mb-0">We'll email only for launch updates. Unsubscribe anytime.</p>
            </div>
            <div class="error-msg mt-3" id="errorMsg">Something went wrong. Please try again.</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      /* Validation: only invalid; inline red errors */
      (()=>{
        const form = document.getElementById('waitlistForm');
        const ok = document.getElementById('successMsg');
        const err = document.getElementById('errorMsg');
        if(!form) return;

        form.querySelectorAll('input').forEach(el=>{
          el.addEventListener('input', ()=>{
            el.setCustomValidity('');
            const bad = !el.checkValidity();
            el.classList.toggle('is-invalid', bad);
            el.classList.remove('is-valid');
          }, {passive:true});
        });

        form.addEventListener('submit', async (e)=>{
          if(!form.checkValidity()){
            e.preventDefault();
            form.querySelectorAll('input').forEach(el=>{
              const bad = !el.checkValidity();
              el.classList.toggle('is-invalid', bad);
              el.classList.remove('is-valid');
            });
            const firstBad = form.querySelector('input.is-invalid');
            if(firstBad) firstBad.focus();
            return;
          }

          e.preventDefault();
          err.style.display = 'none';

          const data = new FormData(form);
          try{
            const res = await fetch(form.action, {
              method:'POST', body:data, headers:{'Accept':'application/json'}
            });

            if(res.ok){
              form.style.display = 'none';
              ok.style.display = 'block';
            }else{
              let msg = 'Something went wrong. Please try again.';
              try{
                const json = await res.json();
                if(json?.errors?.length) msg = json.errors.map(e=>e.message).join(' ');
              }catch{}
              err.textContent = msg;
              err.style.display = 'block';
            }
          }catch{
            err.textContent = 'Network error. Please try again.';
            err.style.display = 'block';
          }
        });
      })();

      /* Cursor bloom (fixed for dark bg) + panel glow tracking */
      (()=>{
        const blob = document.querySelector('.blob');
        const card = document.getElementById('hoverCard');
        let mx = innerWidth/2, my = innerHeight/2, tx = mx, ty = my;

        addEventListener('pointermove', e=>{
          mx = e.clientX; my = e.clientY;

          const r = card.getBoundingClientRect();
          const clamp = (v,min,max)=>Math.min(max,Math.max(min,v));
          const gx = clamp(((mx - r.left)/r.width)*100, 0, 100);
          const gy = clamp(((my - r.top )/r.height)*100, 0, 100);
          card.style.setProperty('--glow-x', gx + '%');
          card.style.setProperty('--glow-y', gy + '%');
        }, {passive:true});

        (function tick(){
          tx += (mx - tx)*0.12;
          ty += (my - ty)*0.12;
          blob.style.left = tx + 'px';
          blob.style.top  = ty + 'px';
          requestAnimationFrame(tick);
        })();
      })();

      /* Button shine hotspot */
      (()=>{
        const btn = document.querySelector('.waitlist-btn');
        if(!btn) return;
        btn.addEventListener('pointermove', e=>{
          const r = btn.getBoundingClientRect();
          const x = ((e.clientX - r.left)/r.width*100).toFixed(2) + '%';
          const y = ((e.clientY - r.top )/r.height*100).toFixed(2) + '%';
          btn.style.setProperty('--mx', x);
          btn.style.setProperty('--my', y);
        }, {passive:true});
      })();
    </script>
  </div>
</body>
</html>
